name: linkerd top
synopsis: Display sorted information about live traffic
description: |-
  Display sorted information about live traffic.

    The RESOURCE argument specifies the target resource(s) to view traffic for:
    (TYPE [NAME] | TYPE/NAME)

    Examples:
    * deploy
    * deploy/my-deploy
    * deploy my-deploy
    * ds/my-daemonset
    * ns/my-ns
    * sts
    * sts/my-statefulset

    Valid resource types include:
    * daemonsets
    * deployments
    * namespaces
    * pods
    * replicationcontrollers
    * statefulsets
    * jobs (only supported as a --to resource),
    * services (only supported as a --to resource)
options:
- name: authority
  usage: Display requests with this :authority
- name: help
  shorthand: h
  default_value: "false"
  usage: help for top
- name: hide-sources
  default_value: "false"
  usage: Hide the source column
- name: max-rps
  default_value: "100"
  usage: Maximum requests per second to tap.
- name: method
  usage: Display requests with this HTTP method
- name: namespace
  shorthand: "n"
  default_value: default
  usage: Namespace of the specified resource
- name: path
  usage: Display requests with paths that start with this prefix
- name: routes
  default_value: "false"
  usage: Display data per route instead of per path
- name: scheme
  usage: Display requests with this scheme
- name: to
  usage: Display requests to this resource
- name: to-namespace
  usage: |
    Sets the namespace used to lookup the "--to" resource; by default the current "--namespace" is used
inherited_options:
- name: api-addr
  usage: |
    Override kubeconfig and communicate directly with the control plane at host:port (mostly for testing)
- name: context
  usage: Name of the kubeconfig context to use
- name: kubeconfig
  usage: Path to the kubeconfig file to use for CLI requests
- name: linkerd-namespace
  shorthand: l
  default_value: linkerd
  usage: Namespace in which Linkerd is installed [$LINKERD_NAMESPACE]
- name: verbose
  default_value: "false"
  usage: Turn on debug logging
example: |2-
    # display traffic for the web deployment in the default namespace
    linkerd top deploy/web

    # display traffic for the web-dlbvj pod in the default namespace
    linkerd top pod/web-dlbvj
see_also:
- linkerd - linkerd manages the Linkerd service mesh
