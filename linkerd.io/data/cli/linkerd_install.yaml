name: linkerd install
synopsis: Output Kubernetes configs to install Linkerd
description: Output Kubernetes configs to install Linkerd.
options:
- name: api-port
  default_value: "8086"
  usage: Port where the Linkerd controller is running
- name: control-port
  default_value: "4190"
  usage: Proxy port to use for control
- name: controller-log-level
  default_value: info
  usage: Log level for the controller and web components
- name: controller-replicas
  default_value: "1"
  usage: Replicas of the controller to deploy
- name: controller-uid
  default_value: "2103"
  usage: Run the control plane components under this user ID
- name: disable-external-profiles
  default_value: "false"
  usage: Disables service profiles for non-Kubernetes services
- name: disable-h2-upgrade
  default_value: "false"
  usage: |
    Prevents the controller from instructing proxies to perform transparent HTTP/2 upgrading
- name: ha
  default_value: "false"
  usage: |
    Experimental: Enable HA deployment config for the control plane
- name: help
  shorthand: h
  default_value: "false"
  usage: help for install
- name: image-pull-policy
  default_value: IfNotPresent
  usage: Docker image pull policy
- name: inbound-port
  default_value: "4143"
  usage: Proxy port to use for inbound traffic
- name: init-image
  default_value: gcr.io/linkerd-io/proxy-init
  usage: Linkerd init container image name
- name: linkerd-cni-enabled
  default_value: "false"
  usage: |
    Experimental: Omit the proxy-init container when injecting the proxy; requires the linkerd-cni plugin to already be installed
- name: linkerd-version
  shorthand: v
  default_value: dev-undefined
  usage: Tag to be used for Linkerd images
- name: metrics-port
  default_value: "4191"
  usage: Proxy port to serve metrics on
- name: outbound-port
  default_value: "4140"
  usage: Proxy port to use for outbound traffic
- name: proxy-auto-inject
  default_value: "false"
  usage: |
    Experimental: Enable proxy sidecar auto-injection webhook (default false)
- name: proxy-cpu
  usage: Amount of CPU units that the proxy sidecar requests
- name: proxy-image
  default_value: gcr.io/linkerd-io/proxy
  usage: Linkerd proxy container image name
- name: proxy-log-level
  default_value: warn,linkerd2_proxy=info
  usage: Log level for the proxy
- name: proxy-memory
  usage: Amount of Memory that the proxy sidecar requests
- name: proxy-uid
  default_value: "2102"
  usage: Run the proxy under this user ID
- name: registry
  default_value: gcr.io/linkerd-io
  usage: Docker registry to pull images from
- name: single-namespace
  default_value: "false"
  usage: |
    Experimental: Configure the control plane to only operate in the installed namespace (default false)
- name: skip-inbound-ports
  default_value: '[]'
  usage: |
    Ports that should skip the proxy and send directly to the application
- name: skip-outbound-ports
  default_value: '[]'
  usage: Outbound ports that should skip the proxy
- name: tls
  usage: 'Enable TLS; valid settings: "optional"'
inherited_options:
- name: api-addr
  usage: |
    Override kubeconfig and communicate directly with the control plane at host:port (mostly for testing)
- name: context
  usage: Name of the kubeconfig context to use
- name: kubeconfig
  usage: Path to the kubeconfig file to use for CLI requests
- name: linkerd-namespace
  shorthand: l
  default_value: linkerd
  usage: Namespace in which Linkerd is installed [$LINKERD_NAMESPACE]
- name: verbose
  default_value: "false"
  usage: Turn on debug logging
see_also:
- linkerd - linkerd manages the Linkerd service mesh
