name: linkerd tap
synopsis: Listen to a traffic stream
description: |-
  Listen to a traffic stream.

    The RESOURCE argument specifies the target resource(s) to tap:
    (TYPE [NAME] | TYPE/NAME)

    Examples:
    * deploy
    * deploy/my-deploy
    * deploy my-deploy
    * ds/my-daemonset
    * ns/my-ns
    * sts
    * sts/my-statefulset

    Valid resource types include:
    * daemonsets
    * deployments
    * namespaces
    * pods
    * replicationcontrollers
    * statefulsets
    * jobs (only supported as a --to resource)
    * services (only supported as a --to resource)
options:
- name: authority
  usage: Display requests with this :authority
- name: help
  shorthand: h
  default_value: "false"
  usage: help for tap
- name: max-rps
  default_value: "100"
  usage: Maximum requests per second to tap.
- name: method
  usage: Display requests with this HTTP method
- name: namespace
  shorthand: "n"
  default_value: default
  usage: Namespace of the specified resource
- name: output
  shorthand: o
  usage: 'Output format. One of: wide'
- name: path
  usage: Display requests with paths that start with this prefix
- name: scheme
  usage: Display requests with this scheme
- name: to
  usage: Display requests to this resource
- name: to-namespace
  usage: |
    Sets the namespace used to lookup the "--to" resource; by default the current "--namespace" is used
inherited_options:
- name: api-addr
  usage: |
    Override kubeconfig and communicate directly with the control plane at host:port (mostly for testing)
- name: context
  usage: Name of the kubeconfig context to use
- name: kubeconfig
  usage: Path to the kubeconfig file to use for CLI requests
- name: linkerd-namespace
  shorthand: l
  default_value: linkerd
  usage: Namespace in which Linkerd is installed [$LINKERD_NAMESPACE]
- name: verbose
  default_value: "false"
  usage: Turn on debug logging
example: |2-
    # tap the web deployment in the default namespace
    linkerd tap deploy/web

    # tap the web-dlbvj pod in the default namespace
    linkerd tap pod/web-dlbvj

    # tap the test namespace, filter by request to prod namespace
    linkerd tap ns/test --to ns/prod
see_also:
- linkerd - linkerd manages the Linkerd service mesh
